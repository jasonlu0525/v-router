(function(e){function t(t){for(var o,r,l=t[0],i=t[1],d=t[2],b=0,u=[];b<l.length;b++)r=l[b],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&u.push(c[r][0]),c[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);s&&s(t);while(u.length)u.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,l=1;l<a.length;l++){var i=a[l];0!==c[i]&&(o=!1)}o&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var o={},c={app:0},n=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=o,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/v-router/dist/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var s=i;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0ce1":function(e,t,a){"use strict";a("2b98")},"2b98":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("159b"),a("b64b");var o=a("7bb1"),c=a("3aa8"),n=a("cbdf"),r=a("9457"),l=a("7a23"),i=a("bc3a"),d=a.n(i),s=a("130e"),b=a("9062"),u=a.n(b),m=a("6c02"),p=(a("b0c0"),{class:"container",id:"vue-shpopping-cart"}),O={class:"row justify-content-center"},j=Object(l["createElementVNode"])("h1",{class:"text-center mb-3"},"我的購物車",-1),g={class:"col-lg-8 mb-4 mb-lg-0 d-flex flex-column justify-content-between"},f={class:"table-responsive"},h={class:"table"},v=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",{class:"row g-0 d-none d-md-flex"},[Object(l["createElementVNode"])("th",{scope:"col",class:"col-5"},"品項"),Object(l["createElementVNode"])("th",{scope:"col",class:"col-2"},"單價"),Object(l["createElementVNode"])("th",{scope:"col",class:"col-2"},"數量"),Object(l["createElementVNode"])("th",{scope:"col",class:"col-2"},"金額"),Object(l["createElementVNode"])("th",{scope:"col",class:"col-1"})])],-1),V={id:"totalPrice",class:""},N={class:"col-lg-4"},E={class:"mb-3"},y=Object(l["createElementVNode"])("label",{for:"email",class:"form-label"},"Email",-1),k={class:"mb-3"},C=Object(l["createElementVNode"])("label",{for:"name",class:"form-label"},"姓名",-1),x={class:"mb-3"},D=Object(l["createElementVNode"])("label",{for:"phone",class:"form-label"},"電話",-1),w={class:"mb-3"},B=Object(l["createElementVNode"])("label",{for:"address",class:"form-label"},"地址",-1),S={class:"mb-3"},P=Object(l["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1),_=["disabled"];function T(e,t,a,o,c,n){var r=Object(l["resolveComponent"])("CartTables"),i=Object(l["resolveComponent"])("field"),d=Object(l["resolveComponent"])("error-message"),s=Object(l["resolveComponent"])("Form");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",p,[Object(l["createElementVNode"])("div",O,[j,Object(l["createElementVNode"])("div",g,[Object(l["createElementVNode"])("div",f,[Object(l["createElementVNode"])("table",h,[v,Object(l["createElementVNode"])("tbody",null,[Object(l["createVNode"])(r,{propShoppingCart:o.cartData,onEmitDeleteCart:o.refreshCart,onEmitDeleteAllCart:o.refreshCart,onEmitPutCart:o.refreshCart},null,8,["propShoppingCart","onEmitDeleteCart","onEmitDeleteAllCart","onEmitPutCart"])])])]),Object(l["createElementVNode"])("div",V,"總計 - NT$ "+Object(l["toDisplayString"])(o.cartData.final_total)+" 元",1)]),Object(l["createElementVNode"])("div",N,[Object(l["createVNode"])(s,{onSubmit:o.onSubmit},{default:Object(l["withCtx"])((function(e){var a=e.errors;return[Object(l["createElementVNode"])("div",E,[y,Object(l["createVNode"])(i,{id:"email",name:"email",type:"email",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":a["email"]}]),modelValue:o.orderInfo.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.orderInfo.email=e}),rules:"email|required",placeholder:"請輸入 Email"},null,8,["modelValue","class"]),Object(l["createVNode"])(d,{name:"email",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",k,[C,Object(l["createVNode"])(i,{id:"name",name:"姓名",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":a["姓名"]}]),modelValue:o.orderInfo.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.orderInfo.name=e}),rules:"required",placeholder:"請輸入姓名"},null,8,["class","modelValue"]),Object(l["createVNode"])(d,{name:"姓名",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",x,[D,Object(l["createVNode"])(i,{id:"phone",name:"電話",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":a["電話"]}]),modelValue:o.orderInfo.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.orderInfo.tel=e}),rules:o.isPhone,placeholder:"請輸入電話"},null,8,["class","modelValue","rules"]),Object(l["createVNode"])(d,{name:"電話",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",w,[B,Object(l["createVNode"])(i,{id:"address",name:"地址",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":a["地址"]}]),rules:"required",modelValue:o.orderInfo.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.orderInfo.address=e}),placeholder:"請輸入地址"},null,8,["modelValue","class"]),Object(l["createVNode"])(d,{name:"地址",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",S,[P,Object(l["createVNode"])(i,{id:"message",name:"留言",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":a["留言"]}]),rules:"required",modelValue:o.message,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.message=e}),placeholder:"請輸入留言",as:"textarea"},null,8,["modelValue","class"]),Object(l["createVNode"])(d,{name:"留言",class:"invalid-feedback"})]),Object(l["createElementVNode"])("button",{class:"btn btn-primary",type:"submit",disabled:""===o.cartData}," 送出訂單 ",8,_)]})),_:1},8,["onSubmit"])])])])}a("ac1f"),a("00b4"),a("5319");var L=a("1940"),M=a.n(L),z=function(){var e="https://vue3-course-api.hexschool.io/v2",t=function(){return Object(b["useLoading"])().show()},a=function(e,t,a){console.log(e,t,a),M()({title:e,text:t,icon:a,buttons:!1}),setTimeout((function(){M.a.getState().isOpen&&M.a.close()}),1e3)};function o(o){var c,n=o.method,r=o.path,l=o.config,i=void 0===l?"":l,s=o.generateLoader,b=void 0===s||s,u=o.Authorization,m=void 0!==u&&u,p=d.a.create({baseURL:e});if(m){var O=document.cookie.replace(/(?:(?:^|.*;\s*)user\s*=\s*([^;]*).*$)|^.*$/,"$1");p.defaults.headers.common.Authorization=O}p.interceptors.request.use((function(e){return console.log("yes",e),c=b?t():null,e}),(function(e){return console.dir("err",e),Promise.reject(e)})),p.interceptors.response.use((function(e){return console.log("yes",e),b&&c.hide(),console.log("api/user/check"!==r),"get"!==n.toLowerCase()&&"api/user/check"!==r&&a(e.data.message," ",e.data.success?"success":"error"),e}),(function(e){return console.dir("err",e),b&&c.hide(),a(e.response.data.message,"",e.response.data.success?"success":"error"),Promise.reject(e)}));var j=p[n]("/".concat(r),i);return j}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return o({method:"get",path:"api/jason/products?page=".concat(e),generateLoader:t})},n=function(e,t){return o({method:"post",path:"api/jason/cart",config:{data:e},generateLoader:t})},r=function(e){return o({method:"get",path:"api/jason/cart",generateLoader:e})},l=function(e,t){return o({method:"put",path:"api/jason/cart/".concat(e.id),config:{data:e.config},generateLoader:t})},i=function(e,t){return o({method:"delete",path:"api/jason/cart/".concat(e),generateLoader:t})},s=function(e){return o({method:"delete",path:"api/jason/carts",generateLoader:e})},u=function(e,t){return o({method:"post",path:"admin/signin",config:e,generateLoader:t})},m=function(e){var t=e.generateLoader,a=e.Authorization,c=void 0===a||a;return o({method:"post",path:"api/user/check",generateLoader:t,Authorization:c})},p=function(e){var t=e.generateLoader,a=e.orderInfo,c=e.message;return o({method:"post",path:"api/jason/order",config:{data:{user:a,message:c}},generateLoader:t})},O=function(e){var t=e.page,a=void 0===t?1:t,c=e.generateLoader,n=e.Authorization,r=void 0===n||n;return o({method:"get",path:"api/jason/admin/orders?page=".concat(a),generateLoader:c,Authorization:r})},j=function(e){var t=e.id,a=e.generateLoader,c=e.Authorization,n=void 0===c||c;return o({method:"delete",path:"api/jason/admin/order/".concat(t),generateLoader:a,Authorization:n})},g=function(e){var t=e.generateLoader,a=e.Authorization,c=void 0===a||a;return o({method:"delete",path:"api/jason/admin/orders/all",generateLoader:t,Authorization:c})};return{loader:t,getProduct:c,postCart:n,getCart:r,putCart:l,deleteCart:i,postLogin:u,postLoginCheck:m,postOrder:p,deleteCartAll:s,getAdminOrder:O,deleteOrder:j,deleteOrders:g}},A={class:"col-md-5 border-0"},q={class:"d-flex align-items-center"},I=["src"],F={class:"ms-2 fs-4 mb-0"},U={class:"col-md-2 border-0"},$={class:"col-md-2 border-0"},Q={class:"fs-4 d-flex align-items-center"},J=["onClick"],R=Object(l["createElementVNode"])("i",{class:"bi bi-dash"},null,-1),W=[R],H=["value"],G=["onClick"],K=Object(l["createElementVNode"])("i",{class:"bi bi-plus"},null,-1),X=[K],Y={class:"col-md-2 border-0"},Z=["onClick"],ee=Object(l["createElementVNode"])("span",{class:"cursor-pointer"},[Object(l["createElementVNode"])("i",{class:"bi bi-x-lg"})],-1),te=[ee],ae={key:0},oe={class:"col-md-1 border-0"},ce={key:1,class:"text-danger text-center py-5"};function ne(e,t,a,o,c,n){return e.propShoppingCart.hasOwnProperty("carts")&&e.propShoppingCart.carts.length>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.propShoppingCart.carts,(function(t,a){return Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:a,class:"row g-0 align-items-center"},[Object(l["createElementVNode"])("td",A,[Object(l["createElementVNode"])("div",q,[Object(l["createElementVNode"])("img",{class:"col-6",src:t.product.imageUrl,alt:""},null,8,I),Object(l["createElementVNode"])("h3",F,Object(l["toDisplayString"])(t.product.title),1)])]),Object(l["createElementVNode"])("td",U,"NT$ "+Object(l["toDisplayString"])(t.product.price.toLocaleString())+" 元",1),Object(l["createElementVNode"])("td",$,[Object(l["createElementVNode"])("div",Q,[Object(l["createElementVNode"])("span",{class:Object(l["normalizeClass"])(["d-block pe-2 | cursor-pointer",{"cursor-not-allowed":t.qty-1==0}]),onClick:function(a){return e.changeQty({config:{qty:t.qty-1,product_id:t.product_id},id:t.id})}},W,10,J),Object(l["createElementVNode"])("input",{class:"col-5 text-center",type:"number",readonly:"",value:t.qty},null,8,H),Object(l["createElementVNode"])("span",{class:"d-block ps-2 | cursor-pointer",onClick:function(a){return e.changeQty({config:{qty:t.qty+1,product_id:t.product_id},id:t.id})}},X,8,G)])]),Object(l["createElementVNode"])("td",Y,"NT$ "+Object(l["toDisplayString"])(t.final_total.toLocaleString())+" 元",1),Object(l["createElementVNode"])("td",{class:"col-md-1 border-0",onClick:function(a){return e.emitDeleteCart(t.id)}},te,8,Z)])})),128)),e.propShoppingCart.carts.length>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",ae,[Object(l["createElementVNode"])("td",oe,[Object(l["createElementVNode"])("button",{class:"btn btn-danger bg-danger",type:"button",onClick:t[0]||(t[0]=function(t){return e.emitDeleteCartAll()})}," 全部刪除 ")])])):Object(l["createCommentVNode"])("",!0)],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("h2",ce,"尚無資料"))}var re=a("5530"),le={props:["propShoppingCart"],emits:["emit-put-cart","emit-delete-cart","emit-delete-all-cart"],setup:function(e,t){var a=t.emit;console.log(e);var o=Object(l["toRefs"])(e),c=o.propShoppingCart;console.log(e,c);var n=z(),r=n.putCart,i=n.deleteCart,d=n.deleteCartAll,s=n.getCart,b=function(e){console.log("productInfo",e.product_id),console.log(e),r(e).then((function(){return s(!1)})).then((function(e){a("emit-put-cart",e.data.data)})).catch((function(e){console.log(e)}))},u=function(e){i(e).then((function(){return s(!1)})).catch((function(e){console.log(e)})).then((function(e){a("emit-delete-cart",e.data.data)})).catch((function(e){console.log(e)}))},m=function(){d().then((function(){a("emit-delete-all-cart")})).catch((function(e){console.log(e)}))};return{changeQty:b,emitDeleteCart:u,emitDeleteCartAll:m}}},ie=le,de=Object(re["a"])({},ie),se=a("d959"),be=a.n(se);const ue=be()(de,[["render",ne]]);var me=ue,pe={components:{CartTables:me},setup:function(){var e=z(),t=e.getCart,a=e.postOrder,o=Object(l["ref"])({});t().then((function(e){console.log(e,"cart 0k"),o.value=e.data.data}));var c=Object(l["ref"])({email:"",name:"",tel:"",address:""}),n=Object(l["ref"])(""),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{carts:[],total:0,final_total:0};o.value=e},i=function(){a({orderInfo:c.value,message:n.value}).then((function(e){console.log(e),r()})).catch((function(e){console.dir(e)}))},d=function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"};return{cartData:o,refreshCart:r,message:n,orderInfo:c,onSubmit:i,isPhone:d}}};const Oe=be()(pe,[["render",T]]);var je=Oe,ge=(a("a4d3"),a("e01a"),{class:"container"}),fe=Object(l["createElementVNode"])("h2",null,"產品",-1),he=Object(l["createElementVNode"])("ul",{class:"mb-0"},[Object(l["createElementVNode"])("li",null,[Object(l["createElementVNode"])("a",{href:"#",class:"d-block","data-bs-toggle":"offcanvas","data-bs-target":"#shpping-cart"},[Object(l["createTextVNode"])("購物車 "),Object(l["createElementVNode"])("i",{class:"bi bi-cart-fill"})])])],-1),ve={class:"row justify-content-end"},Ve={class:"col-lg-10 mb-3"},Ne={class:"row list-unstyled"},Ee={class:"card"},ye={class:"card-hover"},ke=["src","alt"],Ce={class:"card-body"},xe={class:"card-title"},De={class:"card-text"},we=Object(l["createTextVNode"])(" 原價 :"),Be={class:"row"},Se={class:"col-6"},Pe=["onClick"],_e={class:"col-6"},Te=["onClick"];function Le(e,t,a,o,c,n){var r=Object(l["resolveComponent"])("offfanvas-shopping-cart"),i=Object(l["resolveComponent"])("detail-product-modal"),d=Object(l["resolveComponent"])("pagination");return Object(l["openBlock"])(),Object(l["createElementBlock"])("section",ge,[fe,he,Object(l["createVNode"])(r,{"prop-shopping-cart":o.cartData,onEmitDeleteCart:o.refreshCart,onEmitPutCart:o.refreshCart},null,8,["prop-shopping-cart","onEmitDeleteCart","onEmitPutCart"]),Object(l["createElementVNode"])("div",ve,[Object(l["createElementVNode"])("div",Ve,[Object(l["createElementVNode"])("ul",Ne,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.productData.products,(function(e){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:"col-md-6 col-lg-4 mb-3 p-3",key:e.id},[Object(l["createElementVNode"])("div",Ee,[Object(l["createElementVNode"])("div",ye,[Object(l["createElementVNode"])("img",{src:e.imageUrl,class:"card-img card-img-top",alt:e.description},null,8,ke),Object(l["createElementVNode"])("div",Ce,[Object(l["createElementVNode"])("h5",xe,Object(l["toDisplayString"])(e.title),1),Object(l["createElementVNode"])("p",De,Object(l["toDisplayString"])(e.description),1),Object(l["createElementVNode"])("p",null,[we,Object(l["createElementVNode"])("del",null,Object(l["toDisplayString"])(e.origin_price.toLocaleString())+"元",1),Object(l["createTextVNode"])("/"+Object(l["toDisplayString"])(e.unit),1)]),Object(l["createElementVNode"])("p",null,"特價 : "+Object(l["toDisplayString"])(e.price.toLocaleString())+"元/"+Object(l["toDisplayString"])(e.unit),1),Object(l["createElementVNode"])("div",Be,[Object(l["createElementVNode"])("div",Se,[Object(l["createElementVNode"])("a",{href:"#",class:"w-100 btn btn-primary stretcked-link",onClick:Object(l["withModifiers"])((function(t){return o.addToCart({product_id:e.id,qty:1})}),["prevent"])},"加入購物車",8,Pe)]),Object(l["createElementVNode"])("div",_e,[Object(l["createElementVNode"])("a",{href:"#",class:"w-100 btn btn-secondary stretcked-link",onClick:Object(l["withModifiers"])((function(t){return o.createModal(e)}),["prevent"])},"了解更多",8,Te)])])])])])])})),128))]),Object(l["createVNode"])(i,{ref:"detailModalDom",onEmitAddToCart:o.addToCart},null,8,["onEmitAddToCart"]),o.productData.products?(Object(l["openBlock"])(),Object(l["createBlock"])(d,{key:0,"prop-pagination":o.productData.pagination,onEmitChangePage:o.onChangePage},null,8,["prop-pagination","onEmitChangePage"])):Object(l["createCommentVNode"])("",!0)])])])}var Me=a("7b17"),ze={class:"pagination justify-content-end mb-0"},Ae=Object(l["createElementVNode"])("a",{class:"page-link",href:"#"},"上一頁",-1),qe=[Ae],Ie=["onClick"],Fe={class:"page-link",href:"#"},Ue=Object(l["createElementVNode"])("a",{class:"page-link",href:"#"},"下一頁",-1),$e=[Ue];function Qe(e,t,a,o,c,n){return Object(l["openBlock"])(),Object(l["createElementBlock"])("ul",ze,[Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:!a.propPagination.has_pre}]),onClick:t[0]||(t[0]=Object(l["withModifiers"])((function(e){return o.changePage({hasPrevOrNextPage:a.propPagination.has_pre,page:a.propPagination.current_page-1})}),["prevent"]))},qe,2),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.propPagination.total_pages,(function(e){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:Object(l["normalizeClass"])(["page-item",{active:e===a.propPagination.current_page}]),key:e,onClick:Object(l["withModifiers"])((function(t){return o.changePage({hasPrevOrNextPage:!0,page:e})}),["prevent"])},[Object(l["createElementVNode"])("a",Fe,Object(l["toDisplayString"])(e),1)],10,Ie)})),128)),Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:!a.propPagination.has_next}]),onClick:t[1]||(t[1]=Object(l["withModifiers"])((function(e){return o.changePage({hasPrevOrNextPage:a.propPagination.has_next,page:a.propPagination.current_page+1})}),["prevent"]))},$e,2)])}var Je={props:["propPagination"],setup:function(e,t){var a=t.emit,o=function(e){e.hasPrevOrNextPage&&a("emit-change-page",e.page)};return{changePage:o}}};const Re=be()(Je,[["render",Qe]]);var We=Re,He={class:"offcanvas offcanvas-end",tabindex:"-1",id:"shpping-cart","aria-labelledby":"offcanvasTopLabel"},Ge=Object(l["createElementVNode"])("div",{class:"offcanvas-header align-items-center bg-dark text-white"},[Object(l["createElementVNode"])("h3",{class:"mb-0",id:"offcanvasTopLabel "},"購物車"),Object(l["createElementVNode"])("button",{type:"button",class:"btn-close text-reset bg-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),Ke={class:"offcanvas-body d-flex flex-column justify-content-between off-canvas-scrollbar"},Xe={class:"list-unstyled mb-0"},Ye={class:"col-5"},Ze=["src"],et={class:"col-5 d-flex flex-column justify-content-between"},tt={class:"fs-1 d-flex justify-content-center align-items-center"},at=["onClick"],ot=Object(l["createElementVNode"])("i",{class:"bi bi-dash"},null,-1),ct=[ot],nt={class:"px-2"},rt=["onClick"],lt=Object(l["createElementVNode"])("i",{class:"bi bi-plus"},null,-1),it=[lt],dt=["onClick"],st=Object(l["createElementVNode"])("i",{class:"bi bi-trash-fill fs-4 link"},null,-1),bt=[st],ut={class:"position-absolute start-0 end-0 bottom-0 mb-0 bg-white px-3 py-4"},mt={class:"fw-bold mb-3"},pt=Object(l["createTextVNode"])("前往購物車");function Ot(e,t,a,o,c,n){var r=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",He,[Ge,Object(l["createElementVNode"])("div",Ke,[Object(l["createElementVNode"])("ul",Xe,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.propShoppingCart.carts,(function(t,a){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{key:a,class:"row mb-3 align-items-center text-dark"},[Object(l["createElementVNode"])("div",Ye,[Object(l["createElementVNode"])("img",{src:t.product.imageUrl,alt:""},null,8,Ze)]),Object(l["createElementVNode"])("div",et,[Object(l["createElementVNode"])("h4",null,Object(l["toDisplayString"])(t.product.title),1),Object(l["createElementVNode"])("div",tt,[Object(l["createElementVNode"])("span",{class:Object(l["normalizeClass"])(["d-block pe-2 | cursor-pointer",{"cursor-not-allowed":t.qty-1==0}]),onClick:function(a){return e.changeQty({config:{qty:t.qty-1,product_id:t.product_id},id:t.id})}},ct,10,at),Object(l["createElementVNode"])("span",nt,Object(l["toDisplayString"])(t.qty),1),Object(l["createElementVNode"])("span",{class:"d-block ps-2 | cursor-pointer",onClick:function(a){return e.changeQty({config:{qty:t.qty+1,product_id:t.product_id},id:t.id})}},it,8,rt)])]),Object(l["createElementVNode"])("a",{href:"#",class:"col-2 text-center",onClick:function(a){return e.emitDeleteCart(t.id)},title:"確定要刪掉嗎 QQ"},bt,8,dt)])})),128))]),Object(l["createElementVNode"])("section",ut,[Object(l["createElementVNode"])("h3",mt,"總計: "+Object(l["toDisplayString"])(e.propShoppingCart.final_total)+"元",1),Object(l["createVNode"])(r,{class:"btn btn-dark w-100",to:"/cart"},{default:Object(l["withCtx"])((function(){return[pt]})),_:1})])])])}var jt=Object(re["a"])({},ie);const gt=be()(jt,[["render",Ot]]);var ft=gt,ht={class:"modal fade",id:"detailModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},vt={class:"modal-dialog modal-lg modal-dialog-centered"},Vt={class:"modal-content"},Nt={class:"modal-header bg-dark text-white"},Et={class:"modal-title"},yt=Object(l["createElementVNode"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),kt={class:"modal-body"},Ct={class:"row"},xt={class:"col-lg-6"},Dt=["src"],wt={class:"col-lg-6 d-flex flex-column justify-content-between"},Bt={class:"badge bg-primary mb-3"},St={class:"mb-3"};function Pt(e,t,a,o,c,n){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ht,[Object(l["createElementVNode"])("div",vt,[Object(l["createElementVNode"])("div",Vt,[Object(l["createElementVNode"])("div",Nt,[Object(l["createElementVNode"])("h5",Et,Object(l["toDisplayString"])(e.singleData.title),1),yt]),Object(l["createElementVNode"])("div",kt,[Object(l["createElementVNode"])("div",Ct,[Object(l["createElementVNode"])("div",xt,[Object(l["createElementVNode"])("img",{src:e.singleData.imageUrl,class:"h-100"},null,8,Dt)]),Object(l["createElementVNode"])("div",wt,[Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("span",Bt,Object(l["toDisplayString"])(e.singleData.category),1),Object(l["createElementVNode"])("p",St,Object(l["toDisplayString"])(e.singleData.description),1),Object(l["createElementVNode"])("p",null,[Object(l["createTextVNode"])(" NT$ "+Object(l["toDisplayString"])(e.singleData.price)+" ",1),Object(l["createElementVNode"])("del",null,Object(l["toDisplayString"])(e.singleData.origin_price),1)])]),Object(l["createElementVNode"])("button",{"data-bs-dismiss":"modal",type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=function(t){return e.$emit("emit-addToCart",{product_id:e.singleData.id,qty:1})})}," 加入購物車 ")])])])])])])}var _t={setup:function(){var e=Object(l["ref"])({}),t=null;return{singleData:e,detailModal:t}}},Tt=Object(re["a"])({},_t);const Lt=be()(Tt,[["render",Pt]]);var Mt=Lt,zt={components:{pagination:We,detailProductModal:Mt,offfanvasShoppingCart:ft},setup:function(){var e=z(),t=e.getProduct,a=e.postCart,o=e.getCart,c=Object(l["ref"])({}),n=Object(l["ref"])({}),r=Object(l["ref"])(null);t().then((function(e){console.log(e,"product 0k"),c.value=e.data})),o().then((function(e){console.log(e,"cart 0k"),n.value=e.data.data}));var i=function(e){console.log(e),t(e).then((function(e){console.log(e),c.value=e.data}))},d=function(e){console.log(e),a(e).then((function(){o(!1).then((function(e){console.log(e,"cart 0k"),n.value=e.data.data}))})).catch((function(e){console.dir(e)}))},s=function(e){n.value=e},b=function(e){console.log(e),r.value.detailModal=new Me["a"](document.querySelector("#detailModal")).show(),r.value.singleData=e,console.log(r)};return{productData:c,cartData:n,detailModalDom:r,onChangePage:i,addToCart:d,createModal:b,refreshCart:s}}};const At=be()(zt,[["render",Le]]);var qt=At,It={class:"home"},Ft={class:"d-flex justify-content-center"},Ut=Object(l["createTextVNode"])("cart"),$t=Object(l["createTextVNode"])(" | "),Qt=Object(l["createTextVNode"])("product"),Jt=Object(l["createTextVNode"])(" | "),Rt=Object(l["createTextVNode"])("login"),Wt=Object(l["createTextVNode"])(" | "),Ht=Object(l["createTextVNode"])("後台 - 訂單"),Gt=Object(l["createTextVNode"])(" | "),Kt=Object(l["createTextVNode"])("後台 - 產品");function Xt(e,t,a,o,c,n){var r=Object(l["resolveComponent"])("router-link"),i=Object(l["resolveComponent"])("router-view");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("div",It,[Object(l["createElementVNode"])("div",Ft,[Object(l["createVNode"])(r,{class:"px-3",to:"/cart"},{default:Object(l["withCtx"])((function(){return[Ut]})),_:1}),$t,Object(l["createVNode"])(r,{class:"px-3",to:"/"},{default:Object(l["withCtx"])((function(){return[Qt]})),_:1}),Jt,Object(l["createVNode"])(r,{class:"px-3",to:"/login"},{default:Object(l["withCtx"])((function(){return[Rt]})),_:1}),Wt,Object(l["createVNode"])(r,{class:"px-3",to:"/dashboard"},{default:Object(l["withCtx"])((function(){return[Ht]})),_:1}),Gt,Object(l["createVNode"])(r,{class:"px-3",to:"/dashboard/product"},{default:Object(l["withCtx"])((function(){return[Kt]})),_:1})])]),Object(l["createVNode"])(i)],64)}var Yt={components:{}};const Zt=be()(Yt,[["render",Xt]]);var ea=Zt,ta={class:"container vh-100 d-flex justify-content-center align-items-center",id:"app"},aa={class:"row justify-content-center w-100"},oa={class:"col-md-6 col-lg-3 bg-white rounded p-5 content-box"},ca=Object(l["createElementVNode"])("h1",{class:"fw-bold mb-3"},"請先登入",-1),na={class:"form-floating mb-3"},ra=Object(l["createElementVNode"])("label",{for:"Email1"},"Email address",-1),la={class:"form-floating mb-3"},ia=Object(l["createElementVNode"])("label",{for:"Password"},"Password",-1),da=Object(l["createElementVNode"])("button",{type:"submit",class:"btn btn-primary w-100"},"登入",-1);function sa(e,t,a,o,c,n){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ta,[Object(l["createElementVNode"])("div",aa,[Object(l["createElementVNode"])("div",oa,[Object(l["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(l["withModifiers"])((function(){return o.login&&o.login.apply(o,arguments)}),["prevent"]))},[ca,Object(l["createElementVNode"])("div",na,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"email",class:"form-control",id:"Email1","aria-describedby":"email",placeholder:"Email address","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.loginData.username=e})},null,512),[[l["vModelText"],o.loginData.username,void 0,{trim:!0}]]),ra]),Object(l["createElementVNode"])("div",la,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"password",class:"form-control",id:"Password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.loginData.password=e})},null,512),[[l["vModelText"],o.loginData.password]]),ia]),da],32)])])])}a("99af");var ba={setup:function(){var e=Object(m["c"])(),t=z(),a=t.postLogin,o=Object(l["ref"])({username:"",password:""}),c=function(){console.log(o,o.value),a(o.value).then((function(t){console.log("yes",t);var a=t.data,o=a.token,c=a.expired;console.log(o),document.cookie="user=".concat(o,";expires=").concat(new Date(c),";path=/"),e.replace("dashboard")})).catch((function(e){console.dir(e)}))};return{loginData:o,login:c}}};const ua=be()(ba,[["render",sa]]);var ma=ua,pa={class:"container py-3"},Oa={class:"d-flex justify-content-center"},ja=Object(l["createTextVNode"])("orders"),ga=Object(l["createTextVNode"])(" | "),fa=Object(l["createTextVNode"])("product"),ha=Object(l["createTextVNode"])(" | ");function va(e,t,a,o,c,n){var r=Object(l["resolveComponent"])("router-link"),i=Object(l["resolveComponent"])("router-view");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",pa,[Object(l["createElementVNode"])("div",Oa,[Object(l["createVNode"])(r,{to:"/dashboard"},{default:Object(l["withCtx"])((function(){return[ja]})),_:1}),ga,Object(l["createVNode"])(r,{to:"/dashboard/product"},{default:Object(l["withCtx"])((function(){return[fa]})),_:1}),ha]),Object(l["createVNode"])(i)])}var Va={setup:function(){var e=z(),t=e.postLoginCheck,a=Object(m["c"])();return t({}).then((function(e){console.log(e)})).catch((function(e){a.push("/login"),console.dir(e)})),{}}};const Na=be()(Va,[["render",va]]);var Ea=Na,ya=(a("07ac"),{class:"table table-hover"}),ka=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",{class:""},[Object(l["createElementVNode"])("th",{scope:"col"},"訂單編號"),Object(l["createElementVNode"])("th",{scope:"col"},"聯絡人"),Object(l["createElementVNode"])("th",{scope:"col"},"聯絡地址"),Object(l["createElementVNode"])("th",{scope:"col"},"電子郵件"),Object(l["createElementVNode"])("th",{scope:"col"},"訂單品項"),Object(l["createElementVNode"])("th",{scope:"col"},"訂單日期"),Object(l["createElementVNode"])("th",{scope:"col"},"訂單狀態"),Object(l["createElementVNode"])("th",{scope:"col"},"操作")])],-1),Ca={key:0},xa={class:"ps-0 mb-0"},Da=["onClick"],wa=["onClick"],Ba={key:1},Sa=Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("td",{colspan:"8"},[Object(l["createElementVNode"])("h2",{class:"text-danger text-center"},"目前還沒有訂單")])],-1),Pa=[Sa],_a={class:"d-flex justify-content-between"},Ta=["disabled"];function La(e,t,a,o,c,n){var r=Object(l["resolveComponent"])("pagination"),i=Object(l["resolveComponent"])("detail-order-modal");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("table",ya,[ka,o.orderData.hasOwnProperty("orders")&&o.orderData.orders.length>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])("tbody",Ca,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.orderData.orders,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.id),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.user.name),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.user.address),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.user.email),1),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("ul",xa,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(Object.values(e.products),(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{key:t,class:"mb-3"},Object(l["toDisplayString"])(e.product.title)+"-"+Object(l["toDisplayString"])(e.product.price)+" 元 * "+Object(l["toDisplayString"])(e.qty)+" "+Object(l["toDisplayString"])(e.product.unit),1)})),128))])]),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(new Date(1e3*e.create_at).toLocaleDateString()),1),Object(l["createElementVNode"])("td",{class:Object(l["normalizeClass"])({"text-success":e.is_paid,"text-danger":!e.is_paid})},Object(l["toDisplayString"])(e.is_paid?"已付款":"未付款"),3),Object(l["createElementVNode"])("td",{class:Object(l["normalizeClass"])({"text-success":e.is_paid,"text-danger":!e.is_paid})},[Object(l["createElementVNode"])("button",{class:"btn btn-info d-block w-100 mb-3 text-white",type:"button",onClick:function(t){return o.openDataModal(e)}}," 詳細資訊 ",8,Da),Object(l["createElementVNode"])("button",{class:"btn btn-danger d-block w-100 text-white",type:"button",onClick:function(a){return o.deleteSingleOrder({id:e.id,index:t})}}," 刪除 ",8,wa)],2)])})),128))])):o.orderData.hasOwnProperty("orders")&&0===o.orderData.orders.length?(Object(l["openBlock"])(),Object(l["createElementBlock"])("tbody",Ba,Pa)):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",_a,[Object(l["createElementVNode"])("button",{class:"btn btn-danger bg-danger",type:"button",onClick:t[0]||(t[0]=function(e){return o.deleteAllOrders()}),disabled:o.orderData.hasOwnProperty("orders")&&0===o.orderData.orders.length}," 刪除全部訂單 "+Object(l["toDisplayString"])(o.orderData.hasOwnProperty("orders")&&0===o.orderData.orders.length?"(目前沒有訂單，因此不能刪除訂單 )":""),9,Ta),o.orderData.pagination?(Object(l["openBlock"])(),Object(l["createBlock"])(r,{key:0,propPagination:o.orderData.pagination,onEmitChangePage:o.orderChangePage},null,8,["propPagination","onEmitChangePage"])):Object(l["createCommentVNode"])("",!0)]),Object(l["createVNode"])(i,{ref:"detailModalDom"},null,512)],64)}a("a434");var Ma={class:"modal fade",id:"detailModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},za={class:"modal-dialog modal-lg modal-dialog-centered"},Aa={class:"modal-content"},qa=Object(l["createElementVNode"])("div",{class:"modal-header bg-dark text-white"},[Object(l["createElementVNode"])("h5",{class:"modal-title"}),Object(l["createElementVNode"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ia={class:"modal-body"};function Fa(e,t,a,o,c,n){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Ma,[Object(l["createElementVNode"])("div",za,[Object(l["createElementVNode"])("div",Aa,[qa,Object(l["createElementVNode"])("div",Ia,Object(l["toDisplayString"])(e.singleData),1)])])])}var Ua=Object(re["a"])({},_t);const $a=be()(Ua,[["render",Fa]]);var Qa=$a,Ja={components:{pagination:We,detailOrderModal:Qa},setup:function(){var e=z(),t=e.getAdminOrder,a=e.deleteOrder,o=e.deleteOrders,c=Object(l["ref"])({});t({}).then((function(e){c.value=e.data,console.log(c.value)})).catch((function(e){console.dir(e)}));var n=function(e){a({id:e.id}).then((function(){c.value.orders.splice(e.index,1),t({generateLoader:!1}).then((function(e){c.value=e.data,console.log(c.value)})).catch((function(e){console.dir(e)}))})).catch((function(){}))},r=function(){o({}).then((function(){c.value.orders=[]})).catch((function(){}))},i=function(e){t({page:e}).then((function(e){console.log(36,e),c.value=e.data,console.log(c.value)})).catch((function(e){console.dir(e)}))},d=Object(l["ref"])(null),s=function(e){d.value.detailModal=new Me["a"](document.querySelector("#detailModal")).show(),d.value.singleData=e,console.log(d.value.singleData),console.log(d.value)};return{orderData:c,deleteSingleOrder:n,deleteOrders:o,deleteAllOrders:r,orderChangePage:i,detailModalDom:d,openDataModal:s}}};const Ra=be()(Ja,[["render",La]]);var Wa=Ra;function Ha(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,"prodyct")}const Ga={},Ka=be()(Ga,[["render",Ha]]);var Xa=Ka,Ya=[{path:"/",name:"Home",component:ea,children:[{path:"",name:"product",component:qt},{path:"cart",name:"cart",component:je},{path:"login",name:"login",component:ma}]},{path:"/dashboard",name:"dashboard",component:Ea,children:[{path:"",name:"orders",component:Wa},{path:"product",name:"dashboardProduct",component:Xa}]}],Za=Object(m["a"])({history:Object(m["b"])(),routes:Ya}),eo=Za;a("e40d");function to(e,t,a,o,c,n){var r=Object(l["resolveComponent"])("router-view");return Object(l["openBlock"])(),Object(l["createBlock"])(r)}var ao={name:"Comp",setup:function(){}};a("0ce1");const oo=be()(ao,[["render",to]]);var co=oo;Object.keys(c["a"]).forEach((function(e){Object(o["e"])(e,c["a"][e])})),Object(o["d"])({generateMessage:Object(n["a"])({zh_TW:r}),validateOnInput:!0}),console.log(c["a"]),Object(n["b"])("zh_TW");var no=Object(l["createApp"])(co);no.use(s["a"],d.a),no.use(eo),no.provide("axios",no.config.globalProperties.axios),no.use(u.a),no.component("Form",o["c"]),no.component("Field",o["b"]),no.component("ErrorMessage",o["a"]),no.mount("#app")}});
//# sourceMappingURL=app.3be245ba.js.map