(function(e){function t(t){for(var o,r,l=t[0],d=t[1],i=t[2],b=0,u=[];b<l.length;b++)r=l[b],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);s&&s(t);while(u.length)u.shift()();return c.push.apply(c,i||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],o=!0,l=1;l<a.length;l++){var d=a[l];0!==n[d]&&(o=!1)}o&&(c.splice(t--,1),e=r(r.s=a[0]))}return e}var o={},n={app:0},c=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=o,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/v-router/dist/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var s=d;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0ce1":function(e,t,a){"use strict";a("2b98")},"2b98":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("159b"),a("b64b");var o=a("7bb1"),n=a("3aa8"),c=a("cbdf"),r=a("9457"),l=a("7a23"),d=a("bc3a"),i=a.n(d),s=a("130e"),b=a("9062"),u=a.n(b),m=a("6c02"),p=(a("b0c0"),{class:"container",id:"vue-shpopping-cart"}),O={class:"row justify-content-center"},j=Object(l["createElementVNode"])("h1",{class:"text-center mb-3"},"我的購物車",-1),g={class:"col-lg-8 mb-4 mb-lg-0 d-flex flex-column justify-content-between"},f={class:"table-responsive"},h={class:"table"},V=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",{class:"row g-0 d-none d-md-flex"},[Object(l["createElementVNode"])("th",{scope:"col",class:"col-5"},"品項"),Object(l["createElementVNode"])("th",{scope:"col",class:"col-2"},"單價"),Object(l["createElementVNode"])("th",{scope:"col",class:"col-2"},"數量"),Object(l["createElementVNode"])("th",{scope:"col",class:"col-2"},"金額"),Object(l["createElementVNode"])("th",{scope:"col",class:"col-1"})])],-1),v={id:"totalPrice",class:""},E={class:"col-lg-4"},N={class:"mb-3"},y=Object(l["createElementVNode"])("label",{for:"email",class:"form-label"},"Email",-1),k={class:"mb-3"},C=Object(l["createElementVNode"])("label",{for:"name",class:"form-label"},"姓名",-1),x={class:"mb-3"},D=Object(l["createElementVNode"])("label",{for:"phone",class:"form-label"},"電話",-1),w={class:"mb-3"},P=Object(l["createElementVNode"])("label",{for:"address",class:"form-label"},"地址",-1),B={class:"mb-3"},S=Object(l["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1),_=["disabled"];function M(e,t,a,o,n,c){var r=Object(l["resolveComponent"])("CartTables"),d=Object(l["resolveComponent"])("field"),i=Object(l["resolveComponent"])("error-message"),s=Object(l["resolveComponent"])("Form");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",p,[Object(l["createElementVNode"])("div",O,[j,Object(l["createElementVNode"])("div",g,[Object(l["createElementVNode"])("div",f,[Object(l["createElementVNode"])("table",h,[V,Object(l["createElementVNode"])("tbody",null,[Object(l["createVNode"])(r,{propShoppingCart:o.cartData,onEmitDeleteCart:o.refreshCart,onEmitDeleteAllCart:o.refreshCart,onEmitPutCart:o.refreshCart},null,8,["propShoppingCart","onEmitDeleteCart","onEmitDeleteAllCart","onEmitPutCart"])])])]),Object(l["createElementVNode"])("div",v,"總計 - NT$ "+Object(l["toDisplayString"])(o.cartData.final_total)+" 元",1)]),Object(l["createElementVNode"])("div",E,[Object(l["createVNode"])(s,{onSubmit:o.onSubmit},{default:Object(l["withCtx"])((function(e){var a=e.errors;return[Object(l["createElementVNode"])("div",N,[y,Object(l["createVNode"])(d,{id:"email",name:"email",type:"email",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":a["email"]}]),modelValue:o.orderInfo.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.orderInfo.email=e}),rules:"email|required",placeholder:"請輸入 Email"},null,8,["modelValue","class"]),Object(l["createVNode"])(i,{name:"email",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",k,[C,Object(l["createVNode"])(d,{id:"name",name:"姓名",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":a["姓名"]}]),modelValue:o.orderInfo.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.orderInfo.name=e}),rules:"required",placeholder:"請輸入姓名"},null,8,["class","modelValue"]),Object(l["createVNode"])(i,{name:"姓名",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",x,[D,Object(l["createVNode"])(d,{id:"phone",name:"電話",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":a["電話"]}]),modelValue:o.orderInfo.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.orderInfo.tel=e}),rules:o.isPhone,placeholder:"請輸入電話"},null,8,["class","modelValue","rules"]),Object(l["createVNode"])(i,{name:"電話",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",w,[P,Object(l["createVNode"])(d,{id:"address",name:"地址",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":a["地址"]}]),rules:"required",modelValue:o.orderInfo.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.orderInfo.address=e}),placeholder:"請輸入地址"},null,8,["modelValue","class"]),Object(l["createVNode"])(i,{name:"地址",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",B,[S,Object(l["createVNode"])(d,{id:"message",name:"留言",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":a["留言"]}]),rules:"required",modelValue:o.message,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.message=e}),placeholder:"請輸入留言",as:"textarea"},null,8,["modelValue","class"]),Object(l["createVNode"])(i,{name:"留言",class:"invalid-feedback"})]),Object(l["createElementVNode"])("button",{class:"btn btn-primary",type:"submit",disabled:""===o.cartData}," 送出訂單 ",8,_)]})),_:1},8,["onSubmit"])])])])}a("ac1f"),a("00b4"),a("5319");var L=a("1940"),T=a.n(L),z=function(){var e="https://vue3-course-api.hexschool.io/v2",t=function(){return Object(b["useLoading"])().show()},a=function(e,t,a){console.log(e,t,a),T()({title:e,text:t,icon:a,buttons:!1}),setTimeout((function(){T.a.getState().isOpen&&T.a.close()}),1e3)};function o(o){var n,c=o.method,r=o.path,l=o.config,d=void 0===l?"":l,s=o.generateLoader,b=void 0===s||s,u=o.Authorization,m=void 0!==u&&u,p=i.a.create({baseURL:e});if(m){var O=document.cookie.replace(/(?:(?:^|.*;\s*)user\s*=\s*([^;]*).*$)|^.*$/,"$1");p.defaults.headers.common.Authorization=O}p.interceptors.request.use((function(e){return console.log("yes",e),n=b?t():null,e}),(function(e){return console.dir("err",e),Promise.reject(e)})),p.interceptors.response.use((function(e){return console.log("yes",e),b&&n.hide(),console.log("api/user/check"!==r),"get"!==c.toLowerCase()&&"api/user/check"!==r&&a(e.data.message," ",e.data.success?"success":"error"),e}),(function(e){return console.dir("err",e),b&&n.hide(),a(e.response.data.message,"",e.response.data.success?"success":"error"),Promise.reject(e)}));var j=p[c]("/".concat(r),d);return j}var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return o({method:"get",path:"api/jason/products?page=".concat(e),generateLoader:t})},c=function(e,t){return o({method:"post",path:"api/jason/cart",config:{data:e},generateLoader:t})},r=function(e){return o({method:"get",path:"api/jason/cart",generateLoader:e})},l=function(e,t){return o({method:"put",path:"api/jason/cart/".concat(e.id),config:{data:e.config},generateLoader:t})},d=function(e,t){return o({method:"delete",path:"api/jason/cart/".concat(e),generateLoader:t})},s=function(e){return o({method:"delete",path:"api/jason/carts",generateLoader:e})},u=function(e,t){return o({method:"post",path:"admin/signin",config:e,generateLoader:t})},m=function(e){var t=e.generateLoader,a=e.Authorization,n=void 0===a||a;return o({method:"post",path:"api/user/check",generateLoader:t,Authorization:n})},p=function(e){var t=e.generateLoader,a=e.orderInfo,n=e.message;return o({method:"post",path:"api/jason/order",config:{data:{user:a,message:n}},generateLoader:t})},O=function(e){var t=e.page,a=void 0===t?1:t,n=e.generateLoader,c=e.Authorization,r=void 0===c||c;return o({method:"get",path:"api/jason/admin/orders?page=".concat(a),generateLoader:n,Authorization:r})},j=function(e){var t=e.id,a=e.generateLoader,n=e.Authorization,c=void 0===n||n;return o({method:"delete",path:"api/jason/admin/order/".concat(t),generateLoader:a,Authorization:c})},g=function(e){var t=e.generateLoader,a=e.Authorization,n=void 0===a||a;return o({method:"delete",path:"api/jason/admin/orders/all",generateLoader:t,Authorization:n})},f=function(e){var t=e.id,a=e.generateLoader,n=e.Authorization,c=void 0===n||n,r=e.config;return o({method:"put",path:"api/jason/admin/order/".concat(t),generateLoader:a,config:{data:r},Authorization:c})},h=function(e){var t=e.page,a=void 0===t?1:t,n=e.generateLoader,c=e.Authorization,r=void 0===c||c;return o({method:"get",path:"api/jason/admin/products?page=".concat(a),generateLoader:n,Authorization:r})},V=function(e){var t=e.id,a=e.generateLoader,n=e.Authorization,c=void 0===n||n;return o({method:"delete",path:"api/jason/admin/products/".concat(t),generateLoader:a,Authorization:c})};return{loader:t,getProduct:n,postCart:c,getCart:r,putCart:l,deleteCart:d,postLogin:u,postLoginCheck:m,postOrder:p,deleteCartAll:s,getAdminOrder:O,deleteOrder:j,deleteOrders:g,putOrder:f,getAdminProducts:h,deleteAdminProduct:V}},A={class:"col-md-5 border-0"},q={class:"d-flex align-items-center"},U=["src"],F={class:"ms-2 fs-4 mb-0"},$={class:"col-md-2 border-0"},I={class:"col-md-2 border-0"},Q={class:"fs-4 d-flex align-items-center"},J=["onClick"],R=Object(l["createElementVNode"])("i",{class:"bi bi-dash"},null,-1),W=[R],H=["value"],G=["onClick"],K=Object(l["createElementVNode"])("i",{class:"bi bi-plus"},null,-1),X=[K],Y={class:"col-md-2 border-0"},Z=["onClick"],ee=Object(l["createElementVNode"])("span",{class:"cursor-pointer"},[Object(l["createElementVNode"])("i",{class:"bi bi-x-lg"})],-1),te=[ee],ae={key:0},oe={class:"col-md-1 border-0"},ne={key:1,class:"text-danger text-center py-5"};function ce(e,t,a,o,n,c){return e.propShoppingCart.hasOwnProperty("carts")&&e.propShoppingCart.carts.length>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],{key:0},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.propShoppingCart.carts,(function(t,a){return Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:a,class:"row g-0 align-items-center"},[Object(l["createElementVNode"])("td",A,[Object(l["createElementVNode"])("div",q,[Object(l["createElementVNode"])("img",{class:"col-6",src:t.product.imageUrl,alt:""},null,8,U),Object(l["createElementVNode"])("h3",F,Object(l["toDisplayString"])(t.product.title),1)])]),Object(l["createElementVNode"])("td",$,"NT$ "+Object(l["toDisplayString"])(t.product.price.toLocaleString())+" 元",1),Object(l["createElementVNode"])("td",I,[Object(l["createElementVNode"])("div",Q,[Object(l["createElementVNode"])("span",{class:Object(l["normalizeClass"])(["d-block pe-2 | cursor-pointer",{"cursor-not-allowed":t.qty-1==0}]),onClick:function(a){return e.changeQty({config:{qty:t.qty-1,product_id:t.product_id},id:t.id})}},W,10,J),Object(l["createElementVNode"])("input",{class:"col-5 text-center",type:"number",readonly:"",value:t.qty},null,8,H),Object(l["createElementVNode"])("span",{class:"d-block ps-2 | cursor-pointer",onClick:function(a){return e.changeQty({config:{qty:t.qty+1,product_id:t.product_id},id:t.id})}},X,8,G)])]),Object(l["createElementVNode"])("td",Y,"NT$ "+Object(l["toDisplayString"])(t.final_total.toLocaleString())+" 元",1),Object(l["createElementVNode"])("td",{class:"col-md-1 border-0",onClick:function(a){return e.emitDeleteCart(t.id)}},te,8,Z)])})),128)),e.propShoppingCart.carts.length>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",ae,[Object(l["createElementVNode"])("td",oe,[Object(l["createElementVNode"])("button",{class:"btn btn-danger bg-danger",type:"button",onClick:t[0]||(t[0]=function(t){return e.emitDeleteCartAll()})}," 全部刪除 ")])])):Object(l["createCommentVNode"])("",!0)],64)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("h2",ne,"尚無資料"))}var re=a("5530"),le={props:["propShoppingCart"],emits:["emit-put-cart","emit-delete-cart","emit-delete-all-cart"],setup:function(e,t){var a=t.emit;console.log(e);var o=Object(l["toRefs"])(e),n=o.propShoppingCart;console.log(e,n);var c=z(),r=c.putCart,d=c.deleteCart,i=c.deleteCartAll,s=c.getCart,b=function(e){console.log("productInfo",e.product_id),console.log(e),r(e).then((function(){return s(!1)})).then((function(e){a("emit-put-cart",e.data.data)})).catch((function(e){console.log(e)}))},u=function(e){d(e).then((function(){return s(!1)})).catch((function(e){console.log(e)})).then((function(e){a("emit-delete-cart",e.data.data)})).catch((function(e){console.log(e)}))},m=function(){i().then((function(){a("emit-delete-all-cart")})).catch((function(e){console.log(e)}))};return{changeQty:b,emitDeleteCart:u,emitDeleteCartAll:m}}},de=le,ie=Object(re["a"])({},de),se=a("d959"),be=a.n(se);const ue=be()(ie,[["render",ce]]);var me=ue,pe={components:{CartTables:me},setup:function(){var e=z(),t=e.getCart,a=e.postOrder,o=Object(l["ref"])({});t().then((function(e){console.log(e,"cart 0k"),o.value=e.data.data}));var n=Object(l["ref"])({email:"",name:"",tel:"",address:""}),c=Object(l["ref"])(""),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{carts:[],total:0,final_total:0};o.value=e},d=function(){a({orderInfo:n.value,message:c.value}).then((function(e){console.log(e),r()})).catch((function(e){console.dir(e)}))},i=function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"};return{cartData:o,refreshCart:r,message:c,orderInfo:n,onSubmit:d,isPhone:i}}};const Oe=be()(pe,[["render",M]]);var je=Oe,ge=(a("a4d3"),a("e01a"),{class:"container"}),fe=Object(l["createElementVNode"])("h2",null,"產品",-1),he=Object(l["createElementVNode"])("ul",{class:"mb-0"},[Object(l["createElementVNode"])("li",null,[Object(l["createElementVNode"])("a",{href:"#",class:"d-block","data-bs-toggle":"offcanvas","data-bs-target":"#shpping-cart"},[Object(l["createTextVNode"])("購物車 "),Object(l["createElementVNode"])("i",{class:"bi bi-cart-fill"})])])],-1),Ve={class:"row justify-content-end"},ve={class:"col-lg-10 mb-3"},Ee={class:"row list-unstyled"},Ne={class:"card"},ye={class:"card-hover"},ke=["src","alt"],Ce={class:"card-body"},xe={class:"card-title"},De={class:"card-text"},we=Object(l["createTextVNode"])(" 原價 :"),Pe={class:"row"},Be={class:"col-6"},Se=["onClick"],_e={class:"col-6"},Me=["onClick"];function Le(e,t,a,o,n,c){var r=Object(l["resolveComponent"])("offfanvas-shopping-cart"),d=Object(l["resolveComponent"])("detail-product-modal"),i=Object(l["resolveComponent"])("pagination");return Object(l["openBlock"])(),Object(l["createElementBlock"])("section",ge,[fe,he,Object(l["createVNode"])(r,{"prop-shopping-cart":o.cartData,onEmitDeleteCart:o.refreshCart,onEmitPutCart:o.refreshCart},null,8,["prop-shopping-cart","onEmitDeleteCart","onEmitPutCart"]),Object(l["createElementVNode"])("div",Ve,[Object(l["createElementVNode"])("div",ve,[Object(l["createElementVNode"])("ul",Ee,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.productData.products,(function(e){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:"col-md-6 col-lg-4 mb-3 p-3",key:e.id},[Object(l["createElementVNode"])("div",Ne,[Object(l["createElementVNode"])("div",ye,[Object(l["createElementVNode"])("img",{src:e.imageUrl,class:"card-img card-img-top",alt:e.description},null,8,ke),Object(l["createElementVNode"])("div",Ce,[Object(l["createElementVNode"])("h5",xe,Object(l["toDisplayString"])(e.title),1),Object(l["createElementVNode"])("p",De,Object(l["toDisplayString"])(e.description),1),Object(l["createElementVNode"])("p",null,[we,Object(l["createElementVNode"])("del",null,Object(l["toDisplayString"])(e.origin_price.toLocaleString())+"元",1),Object(l["createTextVNode"])("/"+Object(l["toDisplayString"])(e.unit),1)]),Object(l["createElementVNode"])("p",null,"特價 : "+Object(l["toDisplayString"])(e.price.toLocaleString())+"元/"+Object(l["toDisplayString"])(e.unit),1),Object(l["createElementVNode"])("div",Pe,[Object(l["createElementVNode"])("div",Be,[Object(l["createElementVNode"])("a",{href:"#",class:"w-100 btn btn-primary stretcked-link",onClick:Object(l["withModifiers"])((function(t){return o.addToCart({product_id:e.id,qty:1})}),["prevent"])},"加入購物車",8,Se)]),Object(l["createElementVNode"])("div",_e,[Object(l["createElementVNode"])("a",{href:"#",class:"w-100 btn btn-secondary stretcked-link",onClick:Object(l["withModifiers"])((function(t){return o.createModal(e)}),["prevent"])},"了解更多",8,Me)])])])])])])})),128))]),Object(l["createVNode"])(d,{ref:"detailModalDom",onEmitAddToCart:o.addToCart},null,8,["onEmitAddToCart"]),o.productData.products?(Object(l["openBlock"])(),Object(l["createBlock"])(i,{key:0,"prop-pagination":o.productData.pagination,onEmitChangePage:o.onChangePage},null,8,["prop-pagination","onEmitChangePage"])):Object(l["createCommentVNode"])("",!0)])])])}var Te=a("7b17"),ze={class:"pagination justify-content-end mb-0"},Ae=Object(l["createElementVNode"])("a",{class:"page-link",href:"#"},"上一頁",-1),qe=[Ae],Ue=["onClick"],Fe={class:"page-link",href:"#"},$e=Object(l["createElementVNode"])("a",{class:"page-link",href:"#"},"下一頁",-1),Ie=[$e];function Qe(e,t,a,o,n,c){return Object(l["openBlock"])(),Object(l["createElementBlock"])("ul",ze,[Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:!a.propPagination.has_pre}]),onClick:t[0]||(t[0]=Object(l["withModifiers"])((function(e){return o.changePage({hasPrevOrNextPage:a.propPagination.has_pre,page:a.propPagination.current_page-1})}),["prevent"]))},qe,2),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(a.propPagination.total_pages,(function(e){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:Object(l["normalizeClass"])(["page-item",{active:e===a.propPagination.current_page}]),key:e,onClick:Object(l["withModifiers"])((function(t){return o.changePage({hasPrevOrNextPage:!0,page:e})}),["prevent"])},[Object(l["createElementVNode"])("a",Fe,Object(l["toDisplayString"])(e),1)],10,Ue)})),128)),Object(l["createElementVNode"])("li",{class:Object(l["normalizeClass"])(["page-item",{disabled:!a.propPagination.has_next}]),onClick:t[1]||(t[1]=Object(l["withModifiers"])((function(e){return o.changePage({hasPrevOrNextPage:a.propPagination.has_next,page:a.propPagination.current_page+1})}),["prevent"]))},Ie,2)])}var Je={props:["propPagination"],setup:function(e,t){var a=t.emit,o=function(e){e.hasPrevOrNextPage&&a("emit-change-page",e.page)};return{changePage:o}}};const Re=be()(Je,[["render",Qe]]);var We=Re,He={class:"offcanvas offcanvas-end",tabindex:"-1",id:"shpping-cart","aria-labelledby":"offcanvasTopLabel"},Ge=Object(l["createElementVNode"])("div",{class:"offcanvas-header align-items-center bg-dark text-white"},[Object(l["createElementVNode"])("h3",{class:"mb-0",id:"offcanvasTopLabel "},"購物車"),Object(l["createElementVNode"])("button",{type:"button",class:"btn-close text-reset bg-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),Ke={class:"offcanvas-body d-flex flex-column justify-content-between off-canvas-scrollbar"},Xe={class:"list-unstyled mb-0"},Ye={class:"col-5"},Ze=["src"],et={class:"col-5 d-flex flex-column justify-content-between"},tt={class:"fs-1 d-flex justify-content-center align-items-center"},at=["onClick"],ot=Object(l["createElementVNode"])("i",{class:"bi bi-dash"},null,-1),nt=[ot],ct={class:"px-2"},rt=["onClick"],lt=Object(l["createElementVNode"])("i",{class:"bi bi-plus"},null,-1),dt=[lt],it=["onClick"],st=Object(l["createElementVNode"])("i",{class:"bi bi-trash-fill fs-4 link"},null,-1),bt=[st],ut={class:"position-absolute start-0 end-0 bottom-0 mb-0 bg-white px-3 py-4"},mt={class:"fw-bold mb-3"},pt=Object(l["createTextVNode"])("前往購物車");function Ot(e,t,a,o,n,c){var r=Object(l["resolveComponent"])("router-link");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",He,[Ge,Object(l["createElementVNode"])("div",Ke,[Object(l["createElementVNode"])("ul",Xe,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.propShoppingCart.carts,(function(t,a){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{key:a,class:"row mb-3 align-items-center text-dark"},[Object(l["createElementVNode"])("div",Ye,[Object(l["createElementVNode"])("img",{src:t.product.imageUrl,alt:""},null,8,Ze)]),Object(l["createElementVNode"])("div",et,[Object(l["createElementVNode"])("h4",null,Object(l["toDisplayString"])(t.product.title),1),Object(l["createElementVNode"])("div",tt,[Object(l["createElementVNode"])("span",{class:Object(l["normalizeClass"])(["d-block pe-2 | cursor-pointer",{"cursor-not-allowed":t.qty-1==0}]),onClick:function(a){return e.changeQty({config:{qty:t.qty-1,product_id:t.product_id},id:t.id})}},nt,10,at),Object(l["createElementVNode"])("span",ct,Object(l["toDisplayString"])(t.qty),1),Object(l["createElementVNode"])("span",{class:"d-block ps-2 | cursor-pointer",onClick:function(a){return e.changeQty({config:{qty:t.qty+1,product_id:t.product_id},id:t.id})}},dt,8,rt)])]),Object(l["createElementVNode"])("a",{href:"#",class:"col-2 text-center",onClick:function(a){return e.emitDeleteCart(t.id)},title:"確定要刪掉嗎 QQ"},bt,8,it)])})),128))]),Object(l["createElementVNode"])("section",ut,[Object(l["createElementVNode"])("h3",mt,"總計: "+Object(l["toDisplayString"])(e.propShoppingCart.final_total)+"元",1),Object(l["createVNode"])(r,{class:"btn btn-dark w-100",to:"/cart"},{default:Object(l["withCtx"])((function(){return[pt]})),_:1})])])])}var jt=Object(re["a"])({},de);const gt=be()(jt,[["render",Ot]]);var ft=gt,ht={class:"modal fade",id:"detailModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",ref:"test"},Vt={class:"modal-dialog modal-lg modal-dialog-centered"},vt={class:"modal-content"},Et={class:"modal-header bg-dark text-white"},Nt={class:"modal-title"},yt=Object(l["createElementVNode"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),kt={class:"modal-body"},Ct={class:"row"},xt={class:"col-lg-6"},Dt=["src"],wt={class:"col-lg-6 d-flex flex-column justify-content-between"},Pt={class:"badge bg-primary mb-3"},Bt={class:"mb-3"};function St(e,t,a,o,n,c){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ht,[Object(l["createElementVNode"])("div",Vt,[Object(l["createElementVNode"])("div",vt,[Object(l["createElementVNode"])("div",Et,[Object(l["createElementVNode"])("h5",Nt,Object(l["toDisplayString"])(e.singleData.title),1),yt]),Object(l["createElementVNode"])("div",kt,[Object(l["createElementVNode"])("div",Ct,[Object(l["createElementVNode"])("div",xt,[Object(l["createElementVNode"])("img",{src:e.singleData.imageUrl,class:"h-100"},null,8,Dt)]),Object(l["createElementVNode"])("div",wt,[Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("span",Pt,Object(l["toDisplayString"])(e.singleData.category),1),Object(l["createElementVNode"])("p",Bt,Object(l["toDisplayString"])(e.singleData.description),1),Object(l["createElementVNode"])("p",null,[Object(l["createTextVNode"])(" NT$ "+Object(l["toDisplayString"])(e.singleData.price)+" ",1),Object(l["createElementVNode"])("del",null,Object(l["toDisplayString"])(e.singleData.origin_price),1)])]),Object(l["createElementVNode"])("button",{"data-bs-dismiss":"modal",type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=function(t){return e.$emit("emit-addToCart",{product_id:e.singleData.id,qty:1})})}," 加入購物車 ")])])])])])],512)}var _t={setup:function(){var e=Object(l["ref"])({}),t=null,a=Object(l["ref"])(null);Object(l["onMounted"])((function(){console.log(a)}));var o=Object(l["ref"])({canEdit:!1,temp:{},currentPage:1}),n=function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"};return{singleData:e,detailModal:t,editor:o,isPhone:n,test:a}}},Mt=Object(re["a"])({},_t);const Lt=be()(Mt,[["render",St]]);var Tt=Lt,zt={components:{pagination:We,detailProductModal:Tt,offfanvasShoppingCart:ft},setup:function(){var e=z(),t=e.getProduct,a=e.postCart,o=e.getCart,n=Object(l["ref"])({}),c=Object(l["ref"])({}),r=Object(l["ref"])(null);t().then((function(e){console.log(e,"product 0k"),n.value=e.data})),o().then((function(e){console.log(e,"cart 0k"),c.value=e.data.data}));var d=function(e){console.log(e),t(e).then((function(e){console.log(e),n.value=e.data}))},i=function(e){console.log(e),a(e).then((function(){o(!1).then((function(e){console.log(e,"cart 0k"),c.value=e.data.data}))})).catch((function(e){console.dir(e)}))},s=function(e){c.value=e},b=function(e){console.log(e),r.value.detailModal=new Te["a"](document.querySelector("#detailModal")).show(),console.log(r),r.value.singleData=e,console.log(r)};return{productData:n,cartData:c,detailModalDom:r,onChangePage:d,addToCart:i,createModal:b,refreshCart:s}}};const At=be()(zt,[["render",Le]]);var qt=At,Ut={class:"home"},Ft={class:"d-flex justify-content-center"},$t=Object(l["createTextVNode"])("cart"),It=Object(l["createTextVNode"])(" | "),Qt=Object(l["createTextVNode"])("product"),Jt=Object(l["createTextVNode"])(" | "),Rt=Object(l["createTextVNode"])("login"),Wt=Object(l["createTextVNode"])(" | "),Ht=Object(l["createTextVNode"])("後台 - 訂單"),Gt=Object(l["createTextVNode"])(" | "),Kt=Object(l["createTextVNode"])("後台 - 產品");function Xt(e,t,a,o,n,c){var r=Object(l["resolveComponent"])("router-link"),d=Object(l["resolveComponent"])("router-view");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("div",Ut,[Object(l["createElementVNode"])("div",Ft,[Object(l["createVNode"])(r,{class:"px-3",to:"/cart"},{default:Object(l["withCtx"])((function(){return[$t]})),_:1}),It,Object(l["createVNode"])(r,{class:"px-3",to:"/"},{default:Object(l["withCtx"])((function(){return[Qt]})),_:1}),Jt,Object(l["createVNode"])(r,{class:"px-3",to:"/login"},{default:Object(l["withCtx"])((function(){return[Rt]})),_:1}),Wt,Object(l["createVNode"])(r,{class:"px-3",to:"/dashboard"},{default:Object(l["withCtx"])((function(){return[Ht]})),_:1}),Gt,Object(l["createVNode"])(r,{class:"px-3",to:"/dashboard/product"},{default:Object(l["withCtx"])((function(){return[Kt]})),_:1})])]),Object(l["createVNode"])(d)],64)}var Yt={components:{}};const Zt=be()(Yt,[["render",Xt]]);var ea=Zt,ta={class:"container vh-100 d-flex justify-content-center align-items-center",id:"app"},aa={class:"row justify-content-center w-100"},oa={class:"col-md-6 col-lg-3 bg-white rounded p-5 content-box"},na=Object(l["createElementVNode"])("h1",{class:"fw-bold mb-3"},"請先登入",-1),ca={class:"form-floating mb-3"},ra=Object(l["createElementVNode"])("label",{for:"Email1"},"Email address",-1),la={class:"form-floating mb-3"},da=Object(l["createElementVNode"])("label",{for:"Password"},"Password",-1),ia=Object(l["createElementVNode"])("button",{type:"submit",class:"btn btn-primary w-100"},"登入",-1);function sa(e,t,a,o,n,c){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ta,[Object(l["createElementVNode"])("div",aa,[Object(l["createElementVNode"])("div",oa,[Object(l["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(l["withModifiers"])((function(){return o.login&&o.login.apply(o,arguments)}),["prevent"]))},[na,Object(l["createElementVNode"])("div",ca,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"email",class:"form-control",id:"Email1","aria-describedby":"email",placeholder:"Email address","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.loginData.username=e})},null,512),[[l["vModelText"],o.loginData.username,void 0,{trim:!0}]]),ra]),Object(l["createElementVNode"])("div",la,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"password",class:"form-control",id:"Password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.loginData.password=e})},null,512),[[l["vModelText"],o.loginData.password]]),da]),ia],32)])])])}a("99af");var ba={setup:function(){var e=Object(m["c"])(),t=z(),a=t.postLogin,o=Object(l["ref"])({username:"",password:""}),n=function(){console.log(o,o.value),a(o.value).then((function(t){console.log("yes",t);var a=t.data,o=a.token,n=a.expired;console.log(o),document.cookie="user=".concat(o,";expires=").concat(new Date(n),";path=/"),e.replace("dashboard")})).catch((function(e){console.dir(e)}))};return{loginData:o,login:n}}};const ua=be()(ba,[["render",sa]]);var ma=ua,pa={class:"container py-3"},Oa={class:"d-flex justify-content-center"},ja=Object(l["createTextVNode"])("orders"),ga=Object(l["createTextVNode"])(" | "),fa=Object(l["createTextVNode"])("product"),ha=Object(l["createTextVNode"])(" | ");function Va(e,t,a,o,n,c){var r=Object(l["resolveComponent"])("router-link"),d=Object(l["resolveComponent"])("router-view");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",pa,[Object(l["createElementVNode"])("div",Oa,[Object(l["createVNode"])(r,{to:"/dashboard"},{default:Object(l["withCtx"])((function(){return[ja]})),_:1}),ga,Object(l["createVNode"])(r,{to:"/dashboard/product"},{default:Object(l["withCtx"])((function(){return[fa]})),_:1}),ha]),Object(l["createVNode"])(d)])}var va={setup:function(){var e=z(),t=e.postLoginCheck,a=Object(m["c"])();return t({}).then((function(e){console.log(e)})).catch((function(e){a.push("/login"),console.dir(e)})),{}}};const Ea=be()(va,[["render",Va]]);var Na=Ea,ya=(a("07ac"),{class:"table table-hover"}),ka=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",{class:""},[Object(l["createElementVNode"])("th",{scope:"col"},"訂單編號"),Object(l["createElementVNode"])("th",{scope:"col"},"聯絡人"),Object(l["createElementVNode"])("th",{scope:"col"},"聯絡地址"),Object(l["createElementVNode"])("th",{scope:"col"},"電子郵件"),Object(l["createElementVNode"])("th",{scope:"col"},"訂單品項"),Object(l["createElementVNode"])("th",{scope:"col"},"訂單日期"),Object(l["createElementVNode"])("th",{scope:"col"},"訂單狀態"),Object(l["createElementVNode"])("th",{scope:"col"},"操作")])],-1),Ca={key:0},xa={class:"ps-0 mb-0"},Da=["onClick"],wa=["onClick"],Pa={key:1},Ba=Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("td",{colspan:"8"},[Object(l["createElementVNode"])("h2",{class:"text-danger text-center"},"目前還沒有訂單")])],-1),Sa=[Ba],_a={class:"d-flex justify-content-between"},Ma=["disabled"];function La(e,t,a,o,n,c){var r=Object(l["resolveComponent"])("pagination"),d=Object(l["resolveComponent"])("detail-order-modal");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("table",ya,[ka,o.orderData.hasOwnProperty("orders")&&o.orderData.orders.length>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])("tbody",Ca,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.orderData.orders,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.id),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.user.name),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.user.address),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.user.email),1),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("ul",xa,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(Object.values(e.products),(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{key:t,class:"mb-3"},Object(l["toDisplayString"])(e.product.title)+"-"+Object(l["toDisplayString"])(e.product.price)+" 元 * "+Object(l["toDisplayString"])(e.qty)+" "+Object(l["toDisplayString"])(e.product.unit),1)})),128))])]),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(new Date(1e3*e.create_at).toLocaleDateString()),1),Object(l["createElementVNode"])("td",{class:Object(l["normalizeClass"])({"text-success":e.is_paid,"text-danger":!e.is_paid})},Object(l["toDisplayString"])(e.is_paid?"已付款":"未付款"),3),Object(l["createElementVNode"])("td",{class:Object(l["normalizeClass"])({"text-success":e.is_paid,"text-danger":!e.is_paid})},[Object(l["createElementVNode"])("button",{class:"btn btn-info d-block w-100 mb-3 text-white",type:"button",onClick:function(a){return o.openDataModal({item:e,index:t})}}," 詳細資訊 ",8,Da),Object(l["createElementVNode"])("button",{class:"btn btn-danger d-block w-100 text-white",type:"button",onClick:function(a){return o.deleteSingleOrder({id:e.id,index:t})}}," 刪除 ",8,wa)],2)])})),128))])):o.orderData.hasOwnProperty("orders")&&0===o.orderData.orders.length?(Object(l["openBlock"])(),Object(l["createElementBlock"])("tbody",Pa,Sa)):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",_a,[Object(l["createElementVNode"])("button",{class:"btn btn-danger bg-danger",type:"button",onClick:t[0]||(t[0]=function(e){return o.deleteAllOrders()}),disabled:o.orderData.hasOwnProperty("orders")&&0===o.orderData.orders.length}," 刪除全部訂單 "+Object(l["toDisplayString"])(o.orderData.hasOwnProperty("orders")&&0===o.orderData.orders.length?"(目前沒有訂單，因此不能刪除訂單 )":""),9,Ma),o.orderData.pagination?(Object(l["openBlock"])(),Object(l["createBlock"])(r,{key:0,propPagination:o.orderData.pagination,onEmitChangePage:o.orderChangePage},null,8,["propPagination","onEmitChangePage"])):Object(l["createCommentVNode"])("",!0)]),Object(l["createVNode"])(d,{ref:"detailModalDom",onEmitUpdateOrder:o.updateOrder},null,8,["onEmitUpdateOrder"])],64)}a("a434"),a("e9c4");var Ta={class:"modal fade",id:"detailModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},za={class:"modal-dialog modal-dialog-centered"},Aa={class:"modal-content"},qa={class:"modal-header bg-dark text-white"},Ua=Object(l["createElementVNode"])("h5",{class:"modal-title"},"詳細資訊",-1),Fa={key:0,class:"modal-body"},$a=Object(l["createElementVNode"])("h3",{class:"text-center bg-dark text-white py-3 mb-3"},"顧客資料",-1),Ia={class:"mb-3"},Qa={class:"mb-3"},Ja=Object(l["createElementVNode"])("label",{for:"name",class:"form-label"},"姓名",-1),Ra={class:"mb-3"},Wa=Object(l["createElementVNode"])("label",{for:"email",class:"form-label"},"Email",-1),Ha={class:"mb-3"},Ga=Object(l["createElementVNode"])("label",{for:"phone",class:"form-label"},"電話",-1),Ka={class:"mb-3"},Xa=Object(l["createElementVNode"])("label",{for:"address",class:"form-label"},"地址",-1),Ya={class:"mb-3"},Za=Object(l["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1),eo={class:"d-flex justify-content-end"},to={key:1,class:"mb-3"},ao={class:"mb-3"},oo=Object(l["createElementVNode"])("label",{for:"name",class:"form-label"},"姓名",-1),no={class:"mb-3"},co=Object(l["createElementVNode"])("label",{for:"email",class:"form-label"},"Email",-1),ro={class:"mb-3"},lo=Object(l["createElementVNode"])("label",{for:"phone",class:"form-label"},"電話",-1),io={class:"mb-3"},so=Object(l["createElementVNode"])("label",{for:"address",class:"form-label"},"地址",-1),bo={class:"mb-3"},uo=Object(l["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1),mo=Object(l["createElementVNode"])("h3",{class:"text-center bg-dark text-white py-3 mb-3"},"訂單資料",-1),po={class:"table"},Oo=Object(l["createElementVNode"])("th",null,"訂單編號",-1),jo=Object(l["createElementVNode"])("th",{scope:"row"},"訂單日期",-1),go=Object(l["createElementVNode"])("th",{scope:"row"},"訂單狀態",-1),fo=Object(l["createElementVNode"])("th",{scope:"row"},"訂單明細",-1),ho={class:"ps-0 mb-0"},Vo={colspan:"2",class:"text-end"};function vo(e,t,a,o,n,c){var r=Object(l["resolveComponent"])("field"),d=Object(l["resolveComponent"])("error-message"),i=Object(l["resolveComponent"])("Form"),s=Object(l["resolveComponent"])("setion");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Ta,[Object(l["createElementVNode"])("div",za,[Object(l["createElementVNode"])("div",Aa,[Object(l["createElementVNode"])("div",qa,[Ua,Object(l["createElementVNode"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.editor.canEdit=!1})})]),e.singleData.user?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Fa,[$a,e.editor.canEdit?(Object(l["openBlock"])(),Object(l["createBlock"])(i,{key:0,class:"mb-3"},{default:Object(l["withCtx"])((function(a){var o=a.errors;return[Object(l["createElementVNode"])("section",Ia,[Object(l["createElementVNode"])("div",Qa,[Ja,Object(l["createVNode"])(r,{id:"name",name:"姓名",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":o["姓名"]}]),modelValue:e.editor.temp.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editor.temp.user.name=t}),rules:"required",placeholder:"請輸入姓名"},null,8,["class","modelValue"]),Object(l["createVNode"])(d,{name:"姓名",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",Ra,[Wa,Object(l["createVNode"])(r,{id:"email",name:"email",type:"email",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":o["email"]}]),modelValue:e.editor.temp.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.editor.temp.user.email=t}),rules:"email|required",placeholder:"請輸入 Email"},null,8,["modelValue","class"]),Object(l["createVNode"])(d,{name:"email",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",Ha,[Ga,Object(l["createVNode"])(r,{id:"phone",name:"電話",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":o["電話"]}]),modelValue:e.editor.temp.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.editor.temp.user.tel=t}),rules:e.isPhone,placeholder:"請輸入電話"},null,8,["class","modelValue","rules"]),Object(l["createVNode"])(d,{name:"電話",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",Ka,[Xa,Object(l["createVNode"])(r,{id:"address",name:"地址",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":o["地址"]}]),rules:"required",modelValue:e.editor.temp.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.editor.temp.user.address=t}),placeholder:"請輸入地址"},null,8,["modelValue","class"]),Object(l["createVNode"])(d,{name:"地址",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",Ya,[Za,Object(l["createVNode"])(r,{id:"message",name:"留言",type:"text",class:Object(l["normalizeClass"])(["form-control",{"is-invalid":o["留言"]}]),rules:"required",modelValue:e.editor.temp.message,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.editor.temp.message=t}),placeholder:"請輸入留言",as:"textarea"},null,8,["modelValue","class"]),Object(l["createVNode"])(d,{name:"留言",class:"invalid-feedback"})])]),Object(l["createElementVNode"])("div",eo,[Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-dark text-white me-3",onClick:t[6]||(t[6]=function(t){return e.editor.canEdit=!1})}," 取消 "),Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-primary text-white",onClick:t[7]||(t[7]=function(t){return e.$emit("emit-update-order",{id:e.editor.temp.id,config:e.editor.temp,index:e.editor.temp.num-1,$currentPage:e.editor.currentPage})})}," 更新 ")])]})),_:1})):(Object(l["openBlock"])(),Object(l["createElementBlock"])("section",to,[Object(l["createElementVNode"])("div",ao,[oo,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"name",name:"姓名",type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.singleData.user.name=t}),placeholder:"請輸入姓名",readonly:""},null,512),[[l["vModelText"],e.singleData.user.name]])]),Object(l["createElementVNode"])("div",no,[co,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"email",name:"email",type:"email",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.singleData.user.email=t}),placeholder:"請輸入 Email",readonly:""},null,512),[[l["vModelText"],e.singleData.user.email]])]),Object(l["createElementVNode"])("div",ro,[lo,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"phone",name:"電話",type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.singleData.user.tel=t}),placeholder:"請輸入電話",readonly:""},null,512),[[l["vModelText"],e.singleData.user.tel]])]),Object(l["createElementVNode"])("div",io,[so,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"address",name:"地址",type:"text",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.singleData.user.address=t}),placeholder:"請輸入地址",readonly:""},null,512),[[l["vModelText"],e.singleData.user.address]])]),Object(l["createElementVNode"])("div",bo,[uo,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"message",name:"留言",type:"text",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=function(t){return e.singleData.message=t}),placeholder:"請輸入留言",as:"textarea",readonly:""},null,512),[[l["vModelText"],e.singleData.message]])])])),!1===e.editor.canEdit?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:2,class:"btn btn-primary d-block ms-auto mb-3",type:"button",onClick:t[13]||(t[13]=function(t){return e.editor.canEdit=!0,e.editor.temp=JSON.parse(JSON.stringify(e.singleData))})}," 編輯 ")):Object(l["createCommentVNode"])("",!0),Object(l["createVNode"])(s,null,{default:Object(l["withCtx"])((function(){return[mo]})),_:1}),Object(l["createElementVNode"])("table",po,[Object(l["createElementVNode"])("tbody",null,[Object(l["createElementVNode"])("tr",null,[Oo,Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.singleData.id),1)]),Object(l["createElementVNode"])("tr",null,[jo,Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(new Date(1e3*e.singleData.create_at).toLocaleDateString()),1)]),Object(l["createElementVNode"])("tr",null,[go,Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.singleData.is_paid?"已處理":"未處理"),1)]),Object(l["createElementVNode"])("tr",null,[fo,Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("ul",ho,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(Object.values(e.singleData.products),(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{key:t,class:"d-flex justify-content-between"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.product.title)+" ",1),Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(e.qty)+" 件",1)])})),128))])])]),Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("td",Vo,"總金額 "+Object(l["toDisplayString"])(e.singleData.total)+" 元",1)])])])])):Object(l["createCommentVNode"])("",!0)])])])}var Eo=Object(re["a"])({},_t);const No=be()(Eo,[["render",vo]]);var yo=No,ko={components:{pagination:We,detailOrderModal:yo},setup:function(){var e=z(),t=e.getAdminOrder,a=e.deleteOrder,o=e.deleteOrders,n=e.putOrder,c=Object(l["ref"])({}),r=Object(l["ref"])(null);Object(l["onMounted"])((function(){console.log(r)})),t({}).then((function(e){c.value=e.data,console.log(c.value)})).catch((function(e){console.dir(e)}));var d=function(e){a({id:e.id}).then((function(){return c.value.orders.splice(e.index,1),t({generateLoader:!1})})).catch((function(){})).then((function(e){c.value=e.data})).catch((function(e){console.dir(e)}))},i=function(){o({}).then((function(){c.value.orders=[]})).catch((function(){}))},s=function(e){t({page:e}).then((function(t){c.value=t.data,r.value.editor.currentPage=e})).catch((function(e){console.dir(e)}))},b=function(e){var t=e.item;r.value.detailModal=new Te["a"](document.querySelector("#detailModal")).show(),r.value.singleData=t},u=function(e){var a=e.id,o=e.config,l=e.index,d=e.$currentPage;n({id:a,config:o,index:l}).then((function(){return t({generateLoader:!1,page:d})})).catch((function(e){console.dir(e)})).then((function(e){c.value=e.data,r.value.editor.canEdit=!1,r.value.singleData=c.value.orders[l]})).catch((function(e){console.dir(e)}))};return{orderData:c,deleteSingleOrder:d,deleteOrders:o,deleteAllOrders:i,orderChangePage:s,detailModalDom:r,openDataModal:b,updateOrder:u}}};const Co=be()(ko,[["render",La]]);var xo=Co,Do={class:"table table-hbver"},wo=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",{scope:"row"},"分類"),Object(l["createElementVNode"])("td",null,"產品名稱"),Object(l["createElementVNode"])("td",null,"原價"),Object(l["createElementVNode"])("td",null,"售價"),Object(l["createElementVNode"])("td",null,"是否啟用"),Object(l["createElementVNode"])("td",null,"編輯")])],-1),Po={scope:"row"},Bo={class:"btn-group"},So=Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm"},"編輯",-1),_o=["onClick"];function Mo(e,t,a,o,n,c){var r=Object(l["resolveComponent"])("pagination"),d=Object(l["resolveComponent"])("delete-modal");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("table",Do,[wo,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(o.adminProductsData.products,(function(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:t},[Object(l["createElementVNode"])("th",Po,Object(l["toDisplayString"])(e.category),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.title),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.origin_price),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.price),1),Object(l["createElementVNode"])("td",{class:Object(l["normalizeClass"])({"text-success":e.is_enabled,"text-danger":!e.is_enabled})},Object(l["toDisplayString"])(e.is_enabled?"已啟用":"未啟用"),3),Object(l["createElementVNode"])("td",null,[Object(l["createElementVNode"])("div",Bo,[So,Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return o.generateModal({id:e.id,page:e.num-1})}}," 刪除 ",8,_o)])])])})),128))])]),o.adminProductsData.pagination?(Object(l["openBlock"])(),Object(l["createBlock"])(r,{key:0,propPagination:o.adminProductsData.pagination,onEmitChangePage:o.productChangePage},null,8,["propPagination","onEmitChangePage"])):Object(l["createCommentVNode"])("",!0),Object(l["createVNode"])(d,{ref:"deleteModalDom",onEmitDeleteOrder:o.deleteSingleProduct},null,8,["onEmitDeleteOrder"])],64)}var Lo={ref:"deleteModal",id:"delProductModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"},To={class:"modal-dialog"},zo={class:"modal-content border-0"},Ao=Object(l["createStaticVNode"])('<div class="modal-header bg-danger text-white"><h5 id="delProductModalLabel" class="modal-title"><span>刪除產品</span></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"> 是否刪除 <strong class="text-danger"></strong> 商品(刪除後將無法恢復)。 </div>',2),qo={class:"modal-footer"},Uo=Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function Fo(e,t,a,o,n,c){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Lo,[Object(l["createElementVNode"])("div",To,[Object(l["createElementVNode"])("div",zo,[Ao,Object(l["createElementVNode"])("div",qo,[Uo,Object(l["createElementVNode"])("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=function(t){return e.$emit("emit-delete-order",o.delteParameter)})}," 確認刪除 "+Object(l["toDisplayString"])(o.delteParameter),1)])])])],512)}var $o={setup:function(){var e=Object(l["ref"])({}),t=Object(l["ref"])(null);Object(l["onMounted"])((function(){console.log(t)}));var a=function(t){new Te["a"](document.querySelector("#delProductModal")).show(),e.value=t};return{delteParameter:e,genertaeModal:a,deleteModal:t}}};const Io=be()($o,[["render",Fo]]);var Qo=Io,Jo={components:{pagination:We,deleteModal:Qo},setup:function(){var e=Object(l["ref"])({}),t=Object(l["ref"])(null),a=z(),o=a.getAdminProducts,n=a.deleteAdminProduct;o({}).then((function(t){e.value=t.data,console.log(t)})).catch((function(e){console.dir(e)}));var c=function(t){o({page:t}).then((function(t){e.value=t.data,console.log(t)})).catch((function(e){console.dir(e)}))},r=function(t){var a=t.id,c=t.page,r=void 0===c?e.value.pagination.current_page:c;n({id:a}).then((function(){return o({page:r})})).catch((function(e){console.dir(e)})).then((function(t){e.value=t.data})).catch((function(e){console.dir(e)}))},d=function(e){console.log(t,e)};return Object(l["onMounted"])((function(){console.log(t)})),Object(l["onUpdated"])((function(){console.log(t)})),setTimeout((function(){console.log(t)}),1e3),{adminProductsData:e,productChangePage:c,deleteSingleProduct:r,generateModal:d,deleteModalDom:t}}};const Ro=be()(Jo,[["render",Mo]]);var Wo=Ro,Ho=[{path:"/",name:"Home",component:ea,children:[{path:"",name:"product",component:qt},{path:"cart",name:"cart",component:je},{path:"login",name:"login",component:ma}]},{path:"/dashboard",name:"dashboard",component:Na,children:[{path:"",name:"orders",component:xo},{path:"product",name:"dashboardProduct",component:Wo}]}],Go=Object(m["a"])({history:Object(m["b"])(),routes:Ho}),Ko=Go;a("e40d");function Xo(e,t,a,o,n,c){var r=Object(l["resolveComponent"])("router-view");return Object(l["openBlock"])(),Object(l["createBlock"])(r)}var Yo={name:"Comp",setup:function(){}};a("0ce1");const Zo=be()(Yo,[["render",Xo]]);var en=Zo;Object.keys(n["a"]).forEach((function(e){Object(o["e"])(e,n["a"][e])})),Object(o["d"])({generateMessage:Object(c["a"])({zh_TW:r}),validateOnInput:!0}),console.log(n["a"]),Object(c["b"])("zh_TW");var tn=Object(l["createApp"])(en);tn.use(s["a"],i.a),tn.use(Ko),tn.provide("axios",tn.config.globalProperties.axios),tn.use(u.a),tn.component("Form",o["c"]),tn.component("Field",o["b"]),tn.component("ErrorMessage",o["a"]),tn.mount("#app")}});
//# sourceMappingURL=app.27db8cb1.js.map